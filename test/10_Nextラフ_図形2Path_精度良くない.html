<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><title>Exact Copy Rough Polygon with Fabric.js and Rough.js</title><script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.2.4/fabric.min.js"></script><script src="https://cdn.jsdelivr.net/npm/roughjs@4.5.0/bundled/rough.js"></script></head><body><canvas id="canvas" width="800" height="600" style="border:1px solid #ccc"></canvas><script>window.onload=function(){console.log("Window loaded and scripts ready.");const e=new fabric.Canvas("canvas");console.log("Fabric canvas initialized.");const a=new fabric.Polygon([{x:200,y:200},{x:300,y:100},{x:400,y:200},{x:350,y:300},{x:250,y:300}],{fill:"white",stroke:"blue",strokeWidth:1,left:50,top:50,scaleX:1.5,scaleY:1.5,angle:30,selectable:!1});e.add(a),e.renderAll(),setTimeout((()=>function(a){const o=rough.canvas(document.getElementById("canvas")),t=a.points.map((e=>[e.x,e.y])),l=o.polygon(t,{roughness:2.5,bowing:1,stroke:"blue",strokeWidth:3,fillStyle:"none"});let n="";if(l.sets.forEach((e=>{e.ops.forEach((e=>{switch(e.op){case"move":n+=`M ${e.data[0]} ${e.data[1]} `;break;case"bcurveTo":n+=`C ${e.data[0]}, ${e.data[1]}, ${e.data[2]}, ${e.data[3]}, ${e.data[4]}, ${e.data[5]} `}}))})),n.length>0){const o=new fabric.Path(n,{left:a.left,top:a.top,scaleX:a.scaleX,scaleY:a.scaleY,angle:a.angle,stroke:"blue",strokeWidth:1,fill:"none"});e.add(o),e.remove(a),e.renderAll()}else console.error("Generated path data is invalid.")}(a)),1e3)}</script></body></html>