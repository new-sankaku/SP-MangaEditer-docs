<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><title>Fabric.js Object Name Toggle and Tooltip</title><script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script><style>#canvas-container{position:relative}#tooltip{position:absolute;background-color:#fff;border:1px solid #000;padding:5px;display:none}</style></head><body><div id="canvas-container"><canvas id="c" width="800" height="600"></canvas><div id="tooltip"></div></div><button id="toggleNames">名前を表示/非表示</button><script>const canvas=new fabric.Canvas("c");let areNamesVisible=!1;const nameTexts=[],rect=new fabric.Rect({left:100,top:100,fill:"red",width:100,height:100,name:"赤い四角"}),circle=new fabric.Circle({left:300,top:100,radius:50,fill:"blue",name:"青い円"}),text=new fabric.Text("通常のテキスト",{left:100,top:250,fontSize:20,fill:"green"});canvas.add(rect,circle,text),document.getElementById("toggleNames").addEventListener("click",(()=>{areNamesVisible?(nameTexts.forEach((e=>canvas.remove(e))),nameTexts.length=0):canvas.getObjects().forEach((e=>{if(e.name){const t=new fabric.Text(e.name,{left:e.left+5,top:e.top+5,fontSize:14,fill:"black",selectable:!1,evented:!1});nameTexts.push(t),canvas.add(t)}})),areNamesVisible=!areNamesVisible,canvas.renderAll()}));const tooltip=document.getElementById("tooltip");canvas.on("mouse:move",(function(e){const t=canvas.getPointer(e.e),a=canvas.getObjects();let n=null;for(const e of a)if(e.containsPoint(t)){n=e;break}n?(tooltip.style.display="block",tooltip.style.left=`${t.x+10}px`,tooltip.style.top=`${t.y+10}px`,tooltip.innerHTML=n.name||"名前なし"):tooltip.style.display="none"}))</script></body></html>