<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>効率的な数学的パターン - Canvas API</title><style>body{margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background:#f0f0f0}#controls{position:absolute;top:10px;left:10px}</style></head><body><div id="controls"><button id="redraw">再描画</button> <input type="range" id="complexity" min="1" max="7" value="4" step="1"> <span id="complexityValue">4</span></div><canvas id="canvas" width="800" height="800"></canvas><script>const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),redrawBtn=document.getElementById("redraw"),complexitySlider=document.getElementById("complexity"),complexityValue=document.getElementById("complexityValue");function drawPattern(t,e,a,n){if(n<=0)return;ctx.beginPath(),ctx.arc(t,e,a,0,2*Math.PI),ctx.strokeStyle=`hsl(${360*Math.random()}, 50%, 50%)`,ctx.stroke();const r=a/2,c=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(let a of c){drawPattern(t+Math.cos(a)*r,e+Math.sin(a)*r,r,n-1)}}function redraw(){ctx.clearRect(0,0,canvas.width,canvas.height);drawPattern(400,400,350,parseInt(complexitySlider.value))}redrawBtn.addEventListener("click",redraw),complexitySlider.addEventListener("input",(()=>{complexityValue.textContent=complexitySlider.value,redraw()})),redraw()</script></body></html>